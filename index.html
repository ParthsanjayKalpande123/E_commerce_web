<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UrbanStyle | Fashion Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>

<nav class="navbar navbar-dark bg-dark shadow-sm py-3">
  <div class="container d-flex justify-content-between align-items-center">
    <a class="navbar-brand" href="#">UrbanStyle</a>
    <div class="d-flex align-items-center gap-3">
      <button class="btn btn-link text-white text-decoration-none p-0"
        id="authBtn"
        type="button"
        data-bs-toggle="modal"
        data-bs-target="#authModal">
  <i class="fa-regular fa-user"></i>Login / Signup
</button>
      <div id="logoutSection" class="d-none">
        <button class="btn btn-sm btn-outline-light" onclick="logout()">Logout</button>
      </div>
      <a href="cart.html" class="text-white fw-semibold">
        <i class="fa-solid fa-cart-shopping"></i> Cart (<span id="cartCount">0</span>)
      </a>
    </div>
  </div>
</nav>

<section class="hero">
  <div class="hero-overlay">
    <h1>New Season Arrivals</h1>
    <p>Trendy • Affordable • Student Fashion Store</p>
    <a href="#productSection" class="btn btn-dark mt-3 px-4">Shop Now</a>
  </div>
</section>

<div class="container mt-4">
  <div class="filter-bar">

    <!-- Search -->
    <input
      type="text"
      id="searchInput"
      class="form-control filter-search"
      placeholder="Search for names, 'party', 'traditional'..."
      onkeyup="filterProducts()"
    />

    <!-- Category -->
    <select
      id="categorySelect"
      class="form-select filter-category"
      onchange="filterProducts()"
    >
      <option value="all">All Categories</option>
      <option value="men">Men's Wear</option>
      <option value="shirts">Shirts</option>
      <option value="women">Women's Wear</option>
      <option value="cosmetics">Cosmetics</option>
      <option value="footwear">Footwear</option>
      <option value="jewelry">Jewelry</option>
      <option value="saree">Sarees</option>
    </select>

    <!-- Price -->
    <div class="filter-price">
      <span class="price-text">₹0</span>

      <input
        type="range"
        id="priceRange"
        min="0"
        max="20000"
        step="100"
        value="20000"
        oninput="updatePriceFilter()"
      />

      <span class="price-text">₹<span id="maxPrice">10000</span></span>
    </div>

  </div>
</div>


<div class="container mt-5">
  <div class="mb-4 text-center">
    <h2 class="fw-bold">Products</h2>
    <p class="text-muted">Explore Our Collection</p>
  </div>
  <div class="row g-4" id="productSection"></div>
</div>

<footer>
  <div class="container text-center py-4">
    <h5>Customer Support</h5>
    <p>Email: support@urbanstyle.com | Phone: +91 98765 43210</p>
  </div>
</footer>

<div class="modal fade" id="authModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-3">
      <div class="modal-header">
        <h5 class="modal-title" id="authTitle">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input type="text" id="authName" class="form-control mb-3 d-none" placeholder="Full Name">
        <input type="email" id="authEmail" class="form-control mb-3" placeholder="Email">
        <input type="password" id="authPassword" class="form-control mb-3" placeholder="Password">
        <button class="btn btn-dark w-100" onclick="handleAuth(event)">Continue</button>
        <p class="text-center mt-3 small">
          <span id="toggleText">Don't have an account?</span>
          <a href="#" onclick="event.preventDefault(); toggleAuth();">Signup</a>
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  let selectedMaxPrice = 10000;

const menProducts = [
  { id: 1, name: "Cyan Slim Fit Shirt", price: 899, img: "images/images.jpeg", category: "men", subCategory: "shirt", tags: ["formal", "office", "party", "slim fit"] },
  { id: 2, name: "Mint Striped Casual Shirt", price: 1199, img: "images/shirt-3.jpeg", category: "men", subCategory: "shirt", tags: ["casual", "summer", "stripes"] },
  { id: 3, name: "Classic Black Straight Jeans", price: 1499, img: "images/jeans-1.jpeg", category: "men", subCategory: "jeans", tags: ["casual", "denim", "bottomwear"] },
  { id: 4, name: "Light Wash Relaxed Jeans", price: 1299, img: "images/jeans-2.jpeg", category: "men", subCategory: "jeans", tags: ["casual", "streetwear", "denim"] },
  { id: 5, name: "Black Contrast Stitch Cargo", price: 1699, img: "images/jeans-3.jpeg", category: "men", subCategory: "jeans", tags: ["casual", "cargo", "streetwear", "party"] },
  { id: 6, name: "Ice Blue Tapered Jeans", price: 1399, img: "images/jeans-4.jpeg", category: "men", subCategory: "jeans", tags: ["casual", "denim", "trendy"] },
  { id: 7, name: "Deep Blue Utility Cargo", price: 1799, img: "images/Untitled.jpeg", category: "men", subCategory: "jeans", tags: ["casual", "utility", "cargo", "party"] }
];

const cosmeticProducts = [
  { id: 8, name: "VeryMiss Premium Mauve", price: 299, img: "images/nailpolish-1.jpeg", category: "cosmetics", tags: ["makeup", "party", "nail polish", "beauty"] },
  { id: 9, name: "F.U.N Lacquer Deep Burgundy", price: 450, img: "images/nailpolish-2.jpeg", category: "cosmetics", tags: ["makeup", "party", "dark", "beauty"] },
  { id: 10, name: "Bellaview Quick Glow Set (12 Pack)", price: 1899, img: "images/nailpolish-3.jpeg", category: "cosmetics", tags: ["makeup", "gift", "party", "glitter"] }
];

const footwearProducts = [
  { id: 11, name: "Men's Grey Hybrid Dress Shoe", price: 2499, img: "images/shoes-1.jpeg", category: "men", subCategory: "footwear", tags: ["formal", "office", "party", "shoes"] },
  { id: 12, name: "Classic Black & Tan Sneakers", price: 1899, img: "images/shoes-2.jpeg", category: "unisex", subCategory: "footwear", tags: ["casual", "sneakers", "sports"] },
  { id: 13, name: "Men's Ultra-Light White Sports Shoes", price: 2199, img: "images/shoes-3.jpeg", category: "men", subCategory: "footwear", tags: ["sports", "running", "casual"] },
  { id: 14, name: "Women's Pastel Block Sneakers", price: 1999, img: "images/womenshoes-1.jpeg", category: "women", subCategory: "footwear", tags: ["casual", "sneakers", "trendy"] },
  { id: 15, name: "Sky Blue Comfort Mules", price: 1299, img: "images/womenshoes-2.jpeg", category: "women", subCategory: "footwear", tags: ["casual", "traditional", "sandals"] },
  { id: 16, name: "Chunky Multi-Color Fashion Trainers", price: 2599, img: "images/womenshoes-3.jpeg", category: "women", subCategory: "footwear", tags: ["casual", "party", "streetwear"] }
];

const jewelryProducts = [
  { id: 17, name: "Antique Temple Coin Necklace Set", price: 3499, img: "images/jwellery-2.jpeg", category: "women", subCategory: "jewelry", tags: ["traditional", "ethnic", "wedding", "party"] },
  { id: 18, name: "Royal Gold Kundan Choker", price: 5999, img: "images/jwellery-3.jpeg", category: "women", subCategory: "jewelry", tags: ["traditional", "wedding", "party", "luxury"] },
  { id: 19, name: "Traditional Gold Plated Jhumka Set", price: 2899, img: "images/jwellery-4.jpeg", category: "women", subCategory: "jewelry", tags: ["traditional", "ethnic", "earrings"] },
  { id: 20, name: "Grand Bridal Heritage Jewellery Collection", price: 15999, img: "images/jwellery-5.jpeg", category: "women", subCategory: "jewelry", tags: ["traditional", "wedding", "bridal", "luxury"] }
];

const saree = [
  { id: 21, name: "Elegant Silk Saree", price: 4999, img: "images/saree-1.jpeg", category: "women", subCategory: "saree", tags: ["traditional", "wedding", "party", "ethnic"] },
  { id: 22, name: "Traditional Cotton Saree", price: 2999, img: "images/saree-2.jpeg", category: "women", subCategory: "saree", tags: ["traditional", "casual", "ethnic"] },
  { id: 23, name: "Designer Georgette Saree", price: 6999, img: "images/saree-5.jpeg", category: "women", subCategory: "saree", tags: ["party", "designer", "ethnic", "wedding"] },
  { id: 24, name: "Embroidered Chiffon Saree", price: 7999, img: "images/saree-4.jpeg", category: "women", subCategory: "saree", tags: ["party", "traditional", "luxury"] }
];

const womenProducts = [
  { id: 25, name: "Floral Print Summer Dress", price: 1599, img: "images/womentop-1.jpeg", category: "women", subCategory: "tops", tags: ["casual", "summer", "party", "floral"] },
  { id: 26, name: "Casual Striped T-Shirt", price: 799, img: "images/womentop-2.jpeg", category: "women", subCategory: "tops", tags: ["casual", "daily", "stripes"] },
  { id: 27, name: "Comfortable top", price: 1299, img: "images/womentop-3.webp", category: "women", subCategory: "tops", tags: ["casual", "office", "cotton"] },
  { id: 28, name: "Silk top", price: 2199, img: "images/womentop.jpeg", category: "women", subCategory: "tops", tags: ["party", "formal", "silk"] }
];

const menshirt = [
  { id: 29, name: "Formal White Shirt", price: 999, img: "images/mentshirt-1.jpeg", category: "men", subCategory: "shirts", tags: ["formal", "office", "wedding"] },
  { id: 30, name: "Casual Blue Shirt", price: 799, img: "images/mentshirt-2.jpeg", category: "men", subCategory: "shirts", tags: ["casual", "summer", "daily"] },
  { id: 31, name: "Slim Fit Black Shirt", price: 1299, img: "images/mentshirt-3.webp", category: "men", subCategory: "shirts", tags: ["party", "formal", "slim fit"] }
];

const allProducts = [...menProducts, ...cosmeticProducts, ...footwearProducts, ...jewelryProducts, ...saree, ...womenProducts, ...menshirt];

function renderProducts(products, sectionId) {
  const container = document.getElementById(sectionId);
  container.innerHTML = ""; 

  products.forEach((product) => {
    const card = `
      <div class="col-md-3">
        <div class="card h-100 shadow-sm border-0">
          <img src="${product.img}" class="card-img-top" alt="${product.name}" style="height: 250px; object-fit: cover;">
          <div class="card-body d-flex flex-column">
            <h6 class="card-title fw-bold">${product.name}</h6>
            <p class="text-danger mb-2">₹${product.price}</p>
            <div class="mt-auto">
              <div class="input-group input-group-sm mb-3">
                <span class="input-group-text">Qty</span>
                <input type="number" id="qty-${product.id}" class="form-control" value="1" min="1">
              </div>
              <button class="btn btn-dark btn-sm w-100" onclick="addToCart(${product.id})">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    `;
    container.innerHTML += card;
  });
}

function filterProducts() {
  const searchText = document.getElementById("searchInput").value.toLowerCase();
  const selectedCat = document.getElementById("categorySelect").value;

  const filtered = allProducts.filter(p => {
    const matchName = p.name.toLowerCase().includes(searchText);
    const matchTags = p.tags && p.tags.some(tag =>
      tag.toLowerCase().includes(searchText)
    );

    const matchCategory =
      selectedCat === "all" ||
      p.category === selectedCat ||
      p.subCategory === selectedCat;

    const matchPrice = p.price <= selectedMaxPrice;

    return (matchName || matchTags) && matchCategory && matchPrice;
  });

  renderProducts(filtered, "productSection");
}

function updatePriceFilter() {
  const slider = document.getElementById("priceRange");
  selectedMaxPrice = Number(slider.value);

  document.getElementById("maxPrice").innerText = selectedMaxPrice;

  filterProducts();
}


document.addEventListener("DOMContentLoaded", () => {
  renderProducts(allProducts, "productSection");
  if (typeof updateCartCount === "function") updateCartCount();
  if (typeof updateAuthUI === "function") updateAuthUI();
});

// Add this helper function at the end of your script
function handleReveal() {
    const reveals = document.querySelectorAll(".reveal");
    reveals.forEach(el => {
        const windowHeight = window.innerHeight;
        const elementTop = el.getBoundingClientRect().top;
        if (elementTop < windowHeight - 100) {
            el.classList.add("active");
        }
    });
}

window.addEventListener("scroll", handleReveal);

// Update your existing renderProducts to add the class
function renderProducts(products, sectionId) {
    const container = document.getElementById(sectionId);
    container.innerHTML = ""; 

    products.forEach((product, index) => {
        const card = `
            <div class="col-md-3 reveal" style="animation-delay: ${index * 0.1}s">
                <div class="card h-100 product-card shadow-sm border-0">
                    </div>
            </div>
        `;
        container.innerHTML += card;
    });
    handleReveal(); // Trigger immediately after rendering
}
</script>
<script src="script.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>